{"remainingRequest":"/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/src/views/map.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/src/views/map.vue","mtime":1590364333842},{"path":"/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJAL2Fzc2V0cy9heGlvcy5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZHJhdygpOwogIH0sCiAgbWV0aG9kczogewogICAgZGF0YV9wcm9jZXNzKExhdExvbiwgdGhlX2RhdGEpIHsKICAgICAgbGV0IGRhdGEgPSBbXTsKICAgICAgbGV0IGNvdW50X0xhdExvbiA9IDA7CiAgICAgIC8vRGVmaW5lIHRoZSB2YWx1ZSBmb3IgZWFjaCB2YXJpYWJsZQogICAgICBmb3IgKHZhciBrZXkgaW4gTGF0TG9uWyJmZWF0dXJlcyJdKSB7CiAgICAgICAgY291bnRfTGF0TG9uKys7CiAgICAgICAgbGV0IG5hbWVfdmFsdWUgPSBMYXRMb25bImZlYXR1cmVzIl1ba2V5XVsicHJvcGVydGllcyJdWyJTQTRfQ09ERSJdOwogICAgICAgIGxldCBuYW1lX3ZhbHVlMSA9IExhdExvblsiZmVhdHVyZXMiXVtrZXldWyJwcm9wZXJ0aWVzIl1bIlNUQVRFX05BTUUiXTsKICAgICAgICBMYXRMb25bImZlYXR1cmVzIl1ba2V5XVsicHJvcGVydGllcyJdWyJuYW1lIl0gPSBuYW1lX3ZhbHVlOwogICAgICAgIGlmICh0aGVfZGF0YVtuYW1lX3ZhbHVlXSkgewogICAgICAgICAgbGV0IGpzb24gPSB7CiAgICAgICAgICAgIG5hbWU6IG5hbWVfdmFsdWUsCiAgICAgICAgICAgIHZhbHVlOiB0aGVfZGF0YVtuYW1lX3ZhbHVlXVsicG9sIl0gKiAxMDAwLAogICAgICAgICAgICBpbmM6IHRoZV9kYXRhW25hbWVfdmFsdWVdWyJpbmMiXSwKICAgICAgICAgICAgZWR1OiB0aGVfZGF0YVtuYW1lX3ZhbHVlXVsiZWR1Il0sCiAgICAgICAgICAgIGVtbzogdGhlX2RhdGFbbmFtZV92YWx1ZV1bInBvbDEiXSwNCgkJCWgxIDogdGhlX2RhdGFbbmFtZV92YWx1ZV1bImhhc2h0YWcxIl0sDQoJCQloMiA6IHRoZV9kYXRhW25hbWVfdmFsdWVdWyJoYXNodGFnMiJdLA0KCQkJaDMgOiB0aGVfZGF0YVtuYW1lX3ZhbHVlXVsiaGFzaHRhZzMiXSwKICAgICAgICAgICAgU3RhdGVfbmFtZToKICAgICAgICAgICAgICBMYXRMb25bImZlYXR1cmVzIl1ba2V5XVsicHJvcGVydGllcyJdWyJTQTRfTkFNRSJdICsKICAgICAgICAgICAgICAiLCAiICsKICAgICAgICAgICAgICBuYW1lX3ZhbHVlMSwKICAgICAgICAgICAgc2E0OiBMYXRMb25bImZlYXR1cmVzIl1ba2V5XVsicHJvcGVydGllcyJdWyJTQTRfTkFNRSJdCiAgICAgICAgICB9OwogICAgICAgICAgZGF0YS5wdXNoKGpzb24pOwogICAgICAgIH0KICAgICAgfQogICAgICBsZXQgY291bnRfZGF0YSA9IDA7CiAgICAgIHJldHVybiB7IExhdExvbjogTGF0TG9uLCBkYXRhOiBkYXRhIH07CiAgICB9LAogICAgLy9lY2hhcnRzIGRyYXdpbmcKICAgIGRyYXcoKSB7CiAgICAgIGxldCBteUNoYXJ0ID0gdGhpcy4kZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJNYXAiKSk7CiAgICAgIG15Q2hhcnQuc2hvd0xvYWRpbmcoKTsKICAgICAgLy9HZXQgZGF0YSBmcm9tIGpzb24gYW5kIEJhY2stZW5kCiAgICAgIGxldCBMYXRMb24gPSByZXF1aXJlKCIuLi9hc3NldHMvanNvbi9TQTRfMjAxNl9BVVNULmpzb24iKTsKICAgICAgbGV0IHRlc3RfZGF0YSA9IFtdOwogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICB1cmw6ICJodHRwOi8vMTI3LjAuMC4xOjUwMDAvYWRtaW4iCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0ZXN0X2RhdGEgPSByZXMuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZyh0ZXN0X2RhdGEpOwogICAgICAgIGxldCBhbGxfZGF0YSA9IHRoaXMuZGF0YV9wcm9jZXNzKExhdExvbiwgdGVzdF9kYXRhKTsKICAgICAgICBjb25zb2xlLmxvZyhhbGxfZGF0YSk7CiAgICAgICAgdGhpcy4kZWNoYXJ0cy5yZWdpc3Rlck1hcCgiQXVzdHJhbGlhIiwgYWxsX2RhdGFbIkxhdExvbiJdKTsKICAgICAgICBsZXQgb3B0aW9uID0gewogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAicmdiKDE2OSwyMTYsMjUzKSIsCiAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICB0ZXh0OiAiSGVhdCBNYXAgb2YgUGVvcGxlJ3MgTW9vZCBpbiBBdXN0cmFsaWEgYnkgRGlmZmVyZW50IEFyZWFzIiwKICAgICAgICAgICAgbGVmdDogInJpZ2h0IgogICAgICAgICAgfSwKICAgICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgICAgcG9zaXRpb246IGZ1bmN0aW9uKHBvaW50LCBwYXJhbXMsIGRvbSwgcmVjdCwgc2l6ZSkgewogICAgICAgICAgICAgIC8vVGV4dCBwb3NpdGlvbgogICAgICAgICAgICAgIHJldHVybiB7IHJpZ2h0OiAiMjBweCIsIHRvcDogIjIwcHgiIH07CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxlZnQ6ICJsZWZ0IiwKICAgICAgICAgICAgdHJpZ2dlcjogIml0ZW0iLAogICAgICAgICAgICBzaG93RGVsYXk6IDAsCiAgICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogMC4yLAogICAgICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKHBhcmFtcykgewogICAgICAgICAgICAgIC8vVGV4dCBjb250ZW50CiAgICAgICAgICAgICAgdmFyIHZhbHVlID0gKHBhcmFtcy52YWx1ZSArICIiKS5zcGxpdCgiLiIpOwogICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVbMF0ucmVwbGFjZSgvKFxkezEsM30pKD89KD86XGR7M30pKyg/IVxkKSkvZywgIiQxLCIpOwogICAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICAiU0E0IENvZGU6ICIgKw0KICAgICAgICAgICAgICAgIHBhcmFtcy5kYXRhLm5hbWUgKw0KICAgICAgICAgICAgICAgICI8YnIvPiIgKw0KICAgICAgICAgICAgICAgIHBhcmFtcy5kYXRhLlN0YXRlX25hbWUgKw0KICAgICAgICAgICAgICAgICI8YnIvPiBFbW90aW9uOiAiICsNCiAgICAgICAgICAgICAgICBwYXJhbXMuZGF0YS5lbW8gKw0KICAgICAgICAgICAgICAgICI8YnIvPiBJbmNvbWU6ICQiICsNCiAgICAgICAgICAgICAgICBwYXJhbXMuZGF0YS5pbmMgKw0KICAgICAgICAgICAgICAgICI8YnIvPkVkdWNhdGlvbiBMZXZlbDogIiArDQogICAgICAgICAgICAgICAgcGFyYW1zLmRhdGEuZWR1ICsNCiAgICAgICAgICAgICAgICAiJTxici8+VG9wIDMgSGFzaHRhZzo8YnIvPiIgKw0KICAgICAgICAgICAgICAgIHBhcmFtcy5kYXRhLmgxICsNCiAgICAgICAgICAgICAgICAiPGJyLz4iICsNCiAgICAgICAgICAgICAgICBwYXJhbXMuZGF0YS5oMiArDQogICAgICAgICAgICAgICAgIjxici8+IiArDQogICAgICAgICAgICAgICAgcGFyYW1zLmRhdGEuaDMKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgLy9JbmRpY2F0b3IKICAgICAgICAgIHZpc3VhbE1hcDogewogICAgICAgICAgICBsZWZ0OiAicmlnaHQiLAogICAgICAgICAgICBtaW46IDAsCiAgICAgICAgICAgIG1heDogMjAwLAogICAgICAgICAgICBpblJhbmdlOiB7CiAgICAgICAgICAgICAgY29sb3I6IFsKICAgICAgICAgICAgICAgICIjMzEzNjk1IiwKICAgICAgICAgICAgICAgICIjNDU3NWI0IiwKICAgICAgICAgICAgICAgICIjNzRhZGQxIiwKICAgICAgICAgICAgICAgICIjYWJkOWU5IiwKICAgICAgICAgICAgICAgICIjZTBmM2Y4IiwKICAgICAgICAgICAgICAgICIjZmZmZmJmIiwKICAgICAgICAgICAgICAgICIjZmVlMDkwIiwKICAgICAgICAgICAgICAgICIjZmRhZTYxIiwKICAgICAgICAgICAgICAgICIjZjQ2ZDQzIiwKICAgICAgICAgICAgICAgICIjZDczMDI3IiwKICAgICAgICAgICAgICAgICIjYTUwMDI2IgogICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGV4dDogWyJIaWdoIiwgIkxvdyJdLAogICAgICAgICAgICBjYWxjdWxhYmxlOiBmYWxzZQogICAgICAgICAgfSwKICAgICAgICAgIC8vVG9vbCBib3gKICAgICAgICAgIHRvb2xib3g6IHsKICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgbGVmdDogImxlZnQiLAogICAgICAgICAgICB0b3A6ICJ0b3AiLAogICAgICAgICAgICBmZWF0dXJlOiB7CiAgICAgICAgICAgICAgZGF0YVZpZXc6IHsgcmVhZE9ubHk6IGZhbHNlIH0sCiAgICAgICAgICAgICAgcmVzdG9yZToge30sCiAgICAgICAgICAgICAgc2F2ZUFzSW1hZ2U6IHt9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBzZXJpZXM6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgIG5hbWU6ICJBdXN0cmFsaWEgTWFwIiwKICAgICAgICAgICAgICB0eXBlOiAibWFwIiwKICAgICAgICAgICAgICByb2FtOiB0cnVlLAogICAgICAgICAgICAgIGFzcGVjdFNjYWxlOiAwLjksCiAgICAgICAgICAgICAgem9vbTogMS4zLAogICAgICAgICAgICAgIG1hcDogIkF1c3RyYWxpYSIsCiAgICAgICAgICAgICAgZW1waGFzaXM6IHsKICAgICAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsIC8vTWFwIHNob3dpbmcKICAgICAgICAgICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihwYXJhbXMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zLmRhdGEuc2E0OwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB0ZXh0Rml4ZWQ6IHsKICAgICAgICAgICAgICAgIEFsYXNrYTogWzIwLCAtMjBdCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBkYXRhOiBhbGxfZGF0YVsiZGF0YSJdCiAgICAgICAgICAgIH0KICAgICAgICAgIF0KICAgICAgICB9OwogICAgICAgIG15Q2hhcnQuaGlkZUxvYWRpbmcoKTsgLy9lY2hhcnRzIGxvYWRpbmcgY2xvc3VyZQogICAgICAgIG15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7IC8vZWNoYXJ0cyBkcmF3aW5nCiAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["map.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"map.vue","sourceRoot":"src/views","sourcesContent":["\n\n<template>\n  <div class=\"about\">\n    <div id=\"Map\" style=\"width: 2000px;height:812px;\"></div>\n  </div>\n</template>\n<script>\nimport axios from \"@/assets/axios.js\";\nexport default {\n  data() {\n    return {};\n  },\n  mounted() {\n    this.draw();\n  },\n  methods: {\n    data_process(LatLon, the_data) {\n      let data = [];\n      let count_LatLon = 0;\n      //Define the value for each variable\n      for (var key in LatLon[\"features\"]) {\n        count_LatLon++;\n        let name_value = LatLon[\"features\"][key][\"properties\"][\"SA4_CODE\"];\n        let name_value1 = LatLon[\"features\"][key][\"properties\"][\"STATE_NAME\"];\n        LatLon[\"features\"][key][\"properties\"][\"name\"] = name_value;\n        if (the_data[name_value]) {\n          let json = {\n            name: name_value,\n            value: the_data[name_value][\"pol\"] * 1000,\n            inc: the_data[name_value][\"inc\"],\n            edu: the_data[name_value][\"edu\"],\n            emo: the_data[name_value][\"pol1\"],\r\n\t\t\th1 : the_data[name_value][\"hashtag1\"],\r\n\t\t\th2 : the_data[name_value][\"hashtag2\"],\r\n\t\t\th3 : the_data[name_value][\"hashtag3\"],\n            State_name:\n              LatLon[\"features\"][key][\"properties\"][\"SA4_NAME\"] +\n              \", \" +\n              name_value1,\n            sa4: LatLon[\"features\"][key][\"properties\"][\"SA4_NAME\"]\n          };\n          data.push(json);\n        }\n      }\n      let count_data = 0;\n      return { LatLon: LatLon, data: data };\n    },\n    //echarts drawing\n    draw() {\n      let myChart = this.$echarts.init(document.getElementById(\"Map\"));\n      myChart.showLoading();\n      //Get data from json and Back-end\n      let LatLon = require(\"../assets/json/SA4_2016_AUST.json\");\n      let test_data = [];\n      axios({\n        method: \"GET\",\n        url: \"http://127.0.0.1:5000/admin\"\n      }).then(res => {\n        test_data = res.data;\n        console.log(test_data);\n        let all_data = this.data_process(LatLon, test_data);\n        console.log(all_data);\n        this.$echarts.registerMap(\"Australia\", all_data[\"LatLon\"]);\n        let option = {\n          backgroundColor: \"rgb(169,216,253)\",\n          title: {\n            text: \"Heat Map of People's Mood in Australia by Different Areas\",\n            left: \"right\"\n          },\n          tooltip: {\n            position: function(point, params, dom, rect, size) {\n              //Text position\n              return { right: \"20px\", top: \"20px\" };\n            },\n            left: \"left\",\n            trigger: \"item\",\n            showDelay: 0,\n            transitionDuration: 0.2,\n            formatter: function(params) {\n              //Text content\n              var value = (params.value + \"\").split(\".\");\n              value = value[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, \"$1,\");\n              return (\n                \"SA4 Code: \" +\r\n                params.data.name +\r\n                \"<br/>\" +\r\n                params.data.State_name +\r\n                \"<br/> Emotion: \" +\r\n                params.data.emo +\r\n                \"<br/> Income: $\" +\r\n                params.data.inc +\r\n                \"<br/>Education Level: \" +\r\n                params.data.edu +\r\n                \"%<br/>Top 3 Hashtag:<br/>\" +\r\n                params.data.h1 +\r\n                \"<br/>\" +\r\n                params.data.h2 +\r\n                \"<br/>\" +\r\n                params.data.h3\n              );\n            }\n          },\n          //Indicator\n          visualMap: {\n            left: \"right\",\n            min: 0,\n            max: 200,\n            inRange: {\n              color: [\n                \"#313695\",\n                \"#4575b4\",\n                \"#74add1\",\n                \"#abd9e9\",\n                \"#e0f3f8\",\n                \"#ffffbf\",\n                \"#fee090\",\n                \"#fdae61\",\n                \"#f46d43\",\n                \"#d73027\",\n                \"#a50026\"\n              ]\n            },\n            text: [\"High\", \"Low\"],\n            calculable: false\n          },\n          //Tool box\n          toolbox: {\n            show: true,\n            left: \"left\",\n            top: \"top\",\n            feature: {\n              dataView: { readOnly: false },\n              restore: {},\n              saveAsImage: {}\n            }\n          },\n          series: [\n            {\n              name: \"Australia Map\",\n              type: \"map\",\n              roam: true,\n              aspectScale: 0.9,\n              zoom: 1.3,\n              map: \"Australia\",\n              emphasis: {\n                label: {\n                  show: true, //Map showing\n                  formatter: function(params) {\n                    return params.data.sa4;\n                  }\n                }\n              },\n              textFixed: {\n                Alaska: [20, -20]\n              },\n              data: all_data[\"data\"]\n            }\n          ]\n        };\n        myChart.hideLoading(); //echarts loading closure\n        myChart.setOption(option); //echarts drawing\n      });\n    }\n  }\n};\n</script>\n<style scoped>\n.about {\n  display: flex;\n  justify-content: center;\n}\n</style>\n"]}]}