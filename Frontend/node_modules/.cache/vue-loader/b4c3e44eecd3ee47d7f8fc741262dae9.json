{"remainingRequest":"/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/src/views/map.vue?vue&type=style&index=0&id=649eb1b4&scoped=true&lang=css&","dependencies":[{"path":"/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/src/views/map.vue","mtime":1590364333842},{"path":"/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xl/Desktop/学习/COMP90024/Assignment2/project/CCC_A2/Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmFib3V0IHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9Cg=="},{"version":3,"sources":["map.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;AACA","file":"map.vue","sourceRoot":"src/views","sourcesContent":["\n\n<template>\n  <div class=\"about\">\n    <div id=\"Map\" style=\"width: 2000px;height:812px;\"></div>\n  </div>\n</template>\n<script>\nimport axios from \"@/assets/axios.js\";\nexport default {\n  data() {\n    return {};\n  },\n  mounted() {\n    this.draw();\n  },\n  methods: {\n    data_process(LatLon, the_data) {\n      let data = [];\n      let count_LatLon = 0;\n      //Define the value for each variable\n      for (var key in LatLon[\"features\"]) {\n        count_LatLon++;\n        let name_value = LatLon[\"features\"][key][\"properties\"][\"SA4_CODE\"];\n        let name_value1 = LatLon[\"features\"][key][\"properties\"][\"STATE_NAME\"];\n        LatLon[\"features\"][key][\"properties\"][\"name\"] = name_value;\n        if (the_data[name_value]) {\n          let json = {\n            name: name_value,\n            value: the_data[name_value][\"pol\"] * 1000,\n            inc: the_data[name_value][\"inc\"],\n            edu: the_data[name_value][\"edu\"],\n            emo: the_data[name_value][\"pol1\"],\r\n\t\t\th1 : the_data[name_value][\"hashtag1\"],\r\n\t\t\th2 : the_data[name_value][\"hashtag2\"],\r\n\t\t\th3 : the_data[name_value][\"hashtag3\"],\n            State_name:\n              LatLon[\"features\"][key][\"properties\"][\"SA4_NAME\"] +\n              \", \" +\n              name_value1,\n            sa4: LatLon[\"features\"][key][\"properties\"][\"SA4_NAME\"]\n          };\n          data.push(json);\n        }\n      }\n      let count_data = 0;\n      return { LatLon: LatLon, data: data };\n    },\n    //echarts drawing\n    draw() {\n      let myChart = this.$echarts.init(document.getElementById(\"Map\"));\n      myChart.showLoading();\n      //Get data from json and Back-end\n      let LatLon = require(\"../assets/json/SA4_2016_AUST.json\");\n      let test_data = [];\n      axios({\n        method: \"GET\",\n        url: \"http://127.0.0.1:5000/admin\"\n      }).then(res => {\n        test_data = res.data;\n        console.log(test_data);\n        let all_data = this.data_process(LatLon, test_data);\n        console.log(all_data);\n        this.$echarts.registerMap(\"Australia\", all_data[\"LatLon\"]);\n        let option = {\n          backgroundColor: \"rgb(169,216,253)\",\n          title: {\n            text: \"Heat Map of People's Mood in Australia by Different Areas\",\n            left: \"right\"\n          },\n          tooltip: {\n            position: function(point, params, dom, rect, size) {\n              //Text position\n              return { right: \"20px\", top: \"20px\" };\n            },\n            left: \"left\",\n            trigger: \"item\",\n            showDelay: 0,\n            transitionDuration: 0.2,\n            formatter: function(params) {\n              //Text content\n              var value = (params.value + \"\").split(\".\");\n              value = value[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, \"$1,\");\n              return (\n                \"SA4 Code: \" +\r\n                params.data.name +\r\n                \"<br/>\" +\r\n                params.data.State_name +\r\n                \"<br/> Emotion: \" +\r\n                params.data.emo +\r\n                \"<br/> Income: $\" +\r\n                params.data.inc +\r\n                \"<br/>Education Level: \" +\r\n                params.data.edu +\r\n                \"%<br/>Top 3 Hashtag:<br/>\" +\r\n                params.data.h1 +\r\n                \"<br/>\" +\r\n                params.data.h2 +\r\n                \"<br/>\" +\r\n                params.data.h3\n              );\n            }\n          },\n          //Indicator\n          visualMap: {\n            left: \"right\",\n            min: 0,\n            max: 200,\n            inRange: {\n              color: [\n                \"#313695\",\n                \"#4575b4\",\n                \"#74add1\",\n                \"#abd9e9\",\n                \"#e0f3f8\",\n                \"#ffffbf\",\n                \"#fee090\",\n                \"#fdae61\",\n                \"#f46d43\",\n                \"#d73027\",\n                \"#a50026\"\n              ]\n            },\n            text: [\"High\", \"Low\"],\n            calculable: false\n          },\n          //Tool box\n          toolbox: {\n            show: true,\n            left: \"left\",\n            top: \"top\",\n            feature: {\n              dataView: { readOnly: false },\n              restore: {},\n              saveAsImage: {}\n            }\n          },\n          series: [\n            {\n              name: \"Australia Map\",\n              type: \"map\",\n              roam: true,\n              aspectScale: 0.9,\n              zoom: 1.3,\n              map: \"Australia\",\n              emphasis: {\n                label: {\n                  show: true, //Map showing\n                  formatter: function(params) {\n                    return params.data.sa4;\n                  }\n                }\n              },\n              textFixed: {\n                Alaska: [20, -20]\n              },\n              data: all_data[\"data\"]\n            }\n          ]\n        };\n        myChart.hideLoading(); //echarts loading closure\n        myChart.setOption(option); //echarts drawing\n      });\n    }\n  }\n};\n</script>\n<style scoped>\n.about {\n  display: flex;\n  justify-content: center;\n}\n</style>\n"]}]}